<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>History of Wine</title>
    <link rel="stylesheet" href="section2.5.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="background-svg">
            <object data="2209-grapes-5a.svg" type="image/svg+xml" class="rotated-svg"></object>
        </div>
        <div id="page1" class="page">
            <div id="text1" class="text">
                Since 1900, the modern history of wine has seen significant evolution and innovation. The early part of the 20th century was marked by the devastating effects of phylloxera, a vine pest, leading to widespread vine replanting across Europe using phylloxera-resistant rootstocks. Post World War II, the global wine industry expanded rapidly with technological advances in viticulture and winemaking, including controlled fermentation and the use of stainless steel tanks, enhancing the quality and consistency of wine. The latter half of the century witnessed the rise of New World wine regions in the United States, Australia, and South America, which began competing with traditional European producers on quality and innovation. Today, the wine industry is characterized by a blend of tradition and modern technology, with an increasing focus on sustainability and environmental impact, reflecting consumer preferences and climate change challenges. 
            </div>

            <div class="swipe-instruction">
                <span class="swipe-arrow">âž”</span>
                <span class="swipe-text">Swipe to the right to visualize this evolution</span>
            </div>
            

        </div>
        <div id="page2" class="page">
            <div class="flourish-embed flourish-bar-chart-race" data-src="visualisation/18172174"><script src="https://public.flourish.studio/resources/embed.js"></script></div>
        </div>
        <div id="page3" class="page">
            <div id="text2" class="text">
                We have seen that during this century, Europe has still been at the lead of wine production. However, countries in every other continent, such as the United States, Australia, Argentina, and South Africa have been increasing their production. This is a clear sign of the globalization of the wine industry. Now let's look at wine production from a different perspective. As wine lovers, we are not interested in how much wine can we produce, but in how many different types of wine can we taste. Let's explore the current diversity of wine production around the world. Here we show the number of different wines produced in each country.
            </div>
        </div>
        <div id="page4" class="page">
            <div class="bubble-plot">
                <iframe src="treemap/treemap.html"></iframe>
            </div>        
        </div>

        <div id="page5" class="page">
            <div id="text2" class="text">
                While Europe dominates in wine production, the United States dominates in varieties, with over 35,000 different wines produced. So you know, have you thought about a trip to Napa, California yet?
            </div>
            <div id="text2" class="text">
                But let's be realistic. Production quantity and variety are not the only factors that make a wine region attractive. The quality of the wine is also a key factor. However, best quality does not always mean the most expensive wine. There are many affordable wines that are highly rated by experts and consumers alike. Let's explore the quality of wines produced in different regions around the world, as rated by <a href="https://www.wineenthusiast.com">https://www.wineenthusiast.com</a>
            </div>
        </div>

        <div id="page6" class="page">
            <div class="flourish-embed flourish-scatter" data-src="visualisation/18175011"><script src="https://public.flourish.studio/resources/embed.js"></script></div>
        </div>




    </div>
    <div class="pagination">
        <span class="dot" id="dot1"></span>
        <span class="dot" id="dot2"></span>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const textElements = document.querySelectorAll('.text');
            textElements.forEach(text => {
                const words = text.textContent.split(' ');
                text.innerHTML = '';
                words.forEach(word => {
                    const span = document.createElement('span');
                    span.textContent = word + ' ';
                    span.className = 'hidden';
                    text.appendChild(span);
                    const space = document.createTextNode(' ');
                    text.appendChild(space);
                });

                const spans = text.querySelectorAll('span');
                let i = 0;

                function fadeInWord() {
                    if (i < spans.length) {
                        spans[i].classList.add('visible');
                        i++;
                        setTimeout(fadeInWord, 100); // Adjust this delay to control the speed of the word fade-in
                    }
                }

                fadeInWord();
            });

            const container = document.querySelector('.container');
            const dots = document.querySelectorAll('.dot');

            container.addEventListener('scroll', () => {
                const pageIndex = Math.round(container.scrollLeft / window.innerWidth);
                dots.forEach((dot, index) => {
                    dot.style.backgroundColor = index === pageIndex ? '#000' : '#bbb';
                });
            });

            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    container.scrollTo({
                        left: index * window.innerWidth,
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
