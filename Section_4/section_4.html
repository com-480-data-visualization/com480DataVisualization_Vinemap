<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>History of Wine</title>
    <link rel="stylesheet" href="section4.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="background-svg">
            <object data="../Section_2/2209-grapes-5a.svg" type="image/svg+xml" class="rotated-svg"></object>
        </div>
        <div id="page1" class="page">
            <div id="text1" class="text">
                Now that we have explored the locations of wines around the world, how do they differentiate based on humidity, continent, etc., let's get more into numbers. We all love numbers. Which regions produce the most wines? Where do you think you can find more wineries, in the Tuscany, or in Piedmont? Let's find out! 
            </div>
        </div>
        <div id="page2" class="page">
            <div class="bubble-plot">
                <div class="plot-text">Hello</div>
                <iframe src="treemap/treemap.html"></iframe>
            </div>        
        </div>
        <div id="page3" class="page">
            <div id="text1" class="text">
                TEXT PLACEHOLDER
            </div>
        </div>
        <div id="page4" class="page">
            <div class="bubble-plot">
                <div class="plot-text">Hello</div>
                <iframe src="bubble_plot/bubble_plot.html"></iframe>
            </div>        
        </div>
    </div>
    <div class="pagination">
        <span class="dot" id="dot1"></span>
        <span class="dot" id="dot2"></span>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const textElements = document.querySelectorAll('.text');
            textElements.forEach(text => {
                const words = text.textContent.split(' ');
                text.innerHTML = '';
                words.forEach(word => {
                    const span = document.createElement('span');
                    span.textContent = word + ' ';
                    span.className = 'hidden';
                    text.appendChild(span);
                    const space = document.createTextNode(' ');
                    text.appendChild(space);
                });

                const spans = text.querySelectorAll('span');
                let i = 0;

                function fadeInWord() {
                    if (i < spans.length) {
                        spans[i].classList.add('visible');
                        i++;
                        setTimeout(fadeInWord, 100); // Adjust this delay to control the speed of the word fade-in
                    }
                }

                fadeInWord();
            });

            const container = document.querySelector('.container');
            const dots = document.querySelectorAll('.dot');

            container.addEventListener('scroll', () => {
                const pageIndex = Math.round(container.scrollLeft / window.innerWidth);
                dots.forEach((dot, index) => {
                    dot.style.backgroundColor = index === pageIndex ? '#000' : '#bbb';
                });
            });

            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    container.scrollTo({
                        left: index * window.innerWidth,
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
